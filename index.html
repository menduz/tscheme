<html>
<head>
<script src="tscheme.js"></script>
<script type="text/javascript">

run = function(s)
{
    var list = s.split('\n');
    var res = "";
    for (var i = 0; i < list.length && list[i] !== ''; ++i) {
        var S = parse(list[i], global);
        res += S.toString();
        res += '\n';
        res += '>>> ';
        res += S.evaluate();
        res += '\n';
    }
    document.getElementById("dv").innerText=res;
}
</script>
</head>

<body>

<form>
<textarea id="input" style='width:100%; height:50%;'>
(define fib (lambda (n) (begin (define iter (lambda (a b k) (begin (if (> k n) a (iter b (+ b a) (+ k 1)))))) (iter 0 1 1))))
(fib 5)
</textarea><br>
<input type="button" onclick="run(document.getElementById('input').value)" value="evaluate" />
</form>

<div id="dv"></div>

</body>

</html>
