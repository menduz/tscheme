<html>
  <head>
    <style type="text/css">
      img  { display:none }
    </style>
    <img src="canvas/blackcat.jpg" id="cat"/>
  </head>
  <body>
    <form>
<textarea id="input" style='width:100%; height:50%;'>
(define (right-split painter n) (if (eq? n 0) painter ((lambda (smaller) (beside painter (below smaller smaller))) (right-split painter (- n 1)))))
(define (up-split painter n) (if (eq? n 0) painter ((lambda (smaller) (below painter (beside smaller smaller))) (up-split painter (- n 1)))))
(define (corner-split painter n) (if (eq? n 0) painter ((lambda (up right) (beside (below painter (beside up up)) (below (below right right) (corner-split painter (- n 1))))) ((up-split painter (- n 1)) (right-split painter (- n 1))))))
(define (corner-split-re painter n) (if (eq? n 0) painter ((lambda (up right) (beside up right)) ((up-split painter (- n 1)) (right-split painter (- n 1))))))
(draw (corner-split-re cat 3))
</textarea><br>
      <input type="button" onclick="run(document.getElementById('input').value)" value="evaluate" />
    </form>

    <div id="dv"></div>
    <canvas id="canvas" width="500" height="500" ></canvas>
    <script type="text/javascript" src="src/all.js"></script>
    <script type="text/javascript">
run = function(s) {
    var global = createGlobalEnvironment();
    add_picture_function(global);
    var list = s.split('\n');
    var res = "";
    for (var i = 0; i < list.length && list[i] !== ''; ++i) {
        var parsed = parse(list[i]);
        var s = ast(parsed);
        res += s.toString();
        res += '\n';
        res += '>>> ';
        res += s.evaluate(global);
        res += '\n';
    }
    document.getElementById("dv").innerText=res;
}
    </script>
  </body>
</html>
